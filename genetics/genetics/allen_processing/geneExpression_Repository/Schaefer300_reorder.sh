#!/bin/bash

while read line; do 3dcalc -a /cbica/projects/funcParcelSexDiff/scripts/genetics/allen_processing/geneExpression_Repository/AIBS_map/Allen_FS/${line}/parcellation/Schaefer2018_300Parcels_7Networks_order.nii.gz -expr 'step(a-999)*a' -prefix /cbica/projects/funcParcelSexDiff/scripts/genetics/allen_processing/geneExpression_Repository/AIBS_map/Allen_FS/${line}/parcellation/Schaefer2018_300Parcels_7Networks_order_cortex.nii.gz; 3dcalc -a /cbica/projects/funcParcelSexDiff/scripts/genetics/allen_processing/geneExpression_Repository/AIBS_map/Allen_FS/${line}/parcellation/Schaefer2018_300Parcels_7Networks_order.nii.gz -expr 'step(a-1999)*a' -prefix /cbica/projects/funcParcelSexDiff/scripts/genetics/allen_processing/geneExpression_Repository/AIBS_map/Allen_FS/${line}/parcellation/Schaefer2018_300Parcels_7Networks_order_cortex_RH.nii.gz; 3dcalc -a /cbica/projects/funcParcelSexDiff/scripts/genetics/allen_processing/geneExpression_Repository/AIBS_map/Allen_FS/${line}/parcellation/Schaefer2018_300Parcels_7Networks_order_cortex.nii.gz -b /cbica/projects/funcParcelSexDiff/scripts/genetics/allen_processing/geneExpression_Repository/AIBS_map/Allen_FS/${line}/parcellation/Schaefer2018_300Parcels_7Networks_order_cortex_RH.nii.gz -expr '((abs(step(b)-1))*a)' -prefix /cbica/projects/funcParcelSexDiff/scripts/genetics/allen_processing/geneExpression_Repository/AIBS_map/Allen_FS/${line}/parcellation/Schaefer2018_300Parcels_7Networks_order_cortex_LH.nii.gz; 3dcalc -a /cbica/projects/funcParcelSexDiff/scripts/genetics/allen_processing/geneExpression_Repository/AIBS_map/Allen_FS/${line}/parcellation/Schaefer2018_300Parcels_7Networks_order_cortex_LH.nii.gz -b /cbica/projects/funcParcelSexDiff/scripts/genetics/allen_processing/geneExpression_Repository/AIBS_map/Allen_FS/${line}/parcellation/Schaefer2018_300Parcels_7Networks_order_cortex_RH.nii.gz -expr '((a-1000)*step(a))+((b-1800)*step(b))' -prefix /cbica/projects/funcParcelSexDiff/scripts/genetics/allen_processing/geneExpression_Repository/AIBS_map/Allen_FS/${line}/parcellation/Schaefer2018_300Parcels_7Networks_order_cortex_reorder.nii.gz; done < /cbica/projects/funcParcelSexDiff/scripts/genetics/allen_processing/geneExpression_Repository/AIBS_map/Allen_FS/subjects.txt
